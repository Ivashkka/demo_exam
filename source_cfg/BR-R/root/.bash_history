cat /etc/apt/sources.list
ip a
apt install vim
cd ~
vijm .bashrc 
vim .bashrc 
bas
bash
systemctl set-hostnname BR-R
systemctl sethostnname BR-R
systemctl sethostname BR-R
systemctl set-hostname BR-R
hostnamectl set-hostname BR-R
shutdown now
vim /etc/network/interfaces
systemctl restart networking.service 
ping 172.16.2.1
ping 172.16.2.2
vim /etc/net/sysc
vim /etc/sysctl.conf 
systemctl restart network
systemctl restart networking.service 
sysctl -f /etc/sysctl.
sysctl -f /etc/sysctl.conf 
ping ya.ru
ping 1.1.1.1
traceroute 1.1.1.1
ip r
systemctl restart networking.service 
ip r
ip a
ip r
ping 1.1.1.1
ping 1.1.1.1
ping 1.1.1.1
apt install net-tools
shutdown now
apt install git make
ping ya.ru
systemctl restart networking.service 
ip r
apt install git make
git clone https://github.com/Ivashkka/nam_client.git
cd nam_client/
make install
systemctl enable nam_client.service 
systemctl start nam_client.service 
nam hi
nam - fresh
nam - fresh
nam - fresh
nam - delete con
nam hi
nam - fresh
nam - delete con
vim /etc/network/interfaces
systemctl restart networking.service 
ping6 200:1::2
ip r
ip6 r
ip -6 r
ping6 2000:1::2
ping6 2000:2::1
vim /etc/sysctl.conf 
sysctl -f /etc/sysctl.conf 
ping6 2000:2::1
ping6 2000:1::2
nmcli
shutdown now
vim /etc/network/interfaces
systemctl restart network
systemctl restart networking.service 
vim /etc/network/interfaces
systemctl restart networking.service 
ping6 2000:1::2
ping6 2000:2::2
vim /etc/network/interfaces
apt install tcpdump net-tools
apt install tcpdump net-tools
vim /etc/nftables.conf 
nft -f /etc/nftables.conf 
vim /etc/nftables.conf 
nft -f /etc/nftables.conf 
vim /etc/network/interfaces
systemctl enable nftables.service 
vim /etc/network/interfaces
vim /etc/network/interfaces
systemctl restart networking.service 
vim /etc/modules
vim /etc/modules
modprobe ip_gre ip6_gre
systemctl restart networking.service 
ip a
ping 10.0.5.1
ip r
systemctl status networking.service 
modprobe ip_gre
systemctl restart networking.service 
ip a
vim /etc/network/interfaces
systemctl restart networking.service 
ip a
vim /etc/network/interfaces
vim /etc/network/interfaces
systemctl restart networking.service 
vim /etc/network/interfaces
systemctl restart networking.service 
ip tun del tun0
systemctl restart networking.service 
ip a
apt install frr
vim /etc/gai.conf 
history | grep ip
vim /etc/network/interfaces
systemctl restart networking.service 
systemctl status networking.service 
vim /etc/network/interfaces
systemctl restart networking.service 
systemctl status networking.service 
systemctl stop networkin
systemctl stop networking
ip tun del tun0
systemctl start networking
systemctl status networking.service 
ip tun del tun0
systemctl status networking.service 
systemctl restart networking
systemctl status networking.service 
ip tun del tun0
systemctl status networking.service 
systemctl status networking.service 
systemctl restart networking
systemctl status networking.service 
ip a
reboot 
systemctl status networking.service 
vim /etc/network/interfaces
systemctl restart networking.service 
ip a
ip tun del tun0
systemctl restart networking.service 
systemctl status networking.service 
vim /etc/network/interfaces
systemctl restart networking.service 
systemctl status networking.service 
ip a
vim /etc/network/interfaces
systemctl restart networking.service 
systemctl status networking.service 
vim /etc/network/interfaces
systemctl restart networking.service 
systemctl status networking.service 
reboot 
systemctl status networking.service 
ip a
vim /etc/network/interfaces
vim /etc/network/interfaces
systemctl restart networking.service 
systemctl status networking.service 
vim /etc/network/interfaces
systemctl restart networking.service 
systemctl status networking.service 
systemctl stop networki
systemctl stop networking
ip tun del tun0
ip a
systemctl restart networking.service 
systemctl status networking.service 
reboot 
ip a
systemctl status networking.service 
vim /etc/network/interfaces
systemctl restart networking.service 
systemctl status networking.service 
reboot 
ip a
systemctl status networking.service 
vim /etc/network/interfaces
vim /etc/network/interfaces
vim /etc/modules
reboot 
ip a
systemctl status networking.service 
vim /etc/network/interfaces
systemctl restart networking.service 
ip -6 r
ip tun del tun0
ip -6 r
reboot 
apt install strongswan
vim /etc/ipsec.conf 
cp /etc/ipsec.conf /etc/ipsec.conf.old
vim /etc/ipsec.conf
systemctl restart strongswan-starter.service 
systemctl status strongswan-starter.service 
vim /etc/ipsec.secrets 
systemctl restart strongswan-starter.service 
systemctl status strongswan-starter.service 
ip a
ping6 2001::1
ping6 2001::2
ping6 2001::2
tcpdump -i tun0
ping 172.16.2.1
ping 172.16.2.1
ping 172.16.1.2
ip a
ip r
ping 172.16.1.1
ping 172.16.2.1
ping 172.16.2.1
ping 172.16.1.2
ping 2000:1::2
ping 172.16.1.2
ping 10.0.5.1
ping6 2001::1
ping ya.ru
vim /etc/network/interfaces
vim /etc/frr/dam
vim /etc/frr/daemons 
systemctl restart frr
vtysh 
systemctl enable frr
reboot 
usermod -aG sudo ivanadm 
ls
git clone https://github.com/Ivashkka/demo_exam.git
vim demo-git-token
cd demo_exam/
ls
cd source_cfg/
ls
mkdir BR-R
ls
cd BR-R/
ls
mkdir root
mkdir etc
cd etc/
mkdir frr
mkdir network
mkdir ssh
cp /etc/frr/frr.conf frr/
cp /etc/frr/daemons frr/
cp /etc/network/interfaces network/
cp /etc/ssh/sshd_config ssh/
ls
cp /etc/gai.conf .
cp /etc/group .
cp /etc/ipsec.conf .
cp /etc/modules .
cp /etc/nftables.conf .
cp /etc/passwd .
cp /etc/sysctl.conf  .
ls
history | grep vim
ls
cp /etc/ipsec.secrets .
cat ipsec.secrets 
ls
cd ../../..
ls
git status 
git add --all
git status 
git commit -am "BR-R configs"
git config --global user.name Ivashkka
git config  --global user.email ivashka.2.r@gmail.com
git config --global credential.helper 'cache --timeout=3600'
ls
git status 
git commit -am "BR-R configs"
git push origin 
ls
cd source_cfg/BR-R/
ls
cp /root/.bashrc root/
ls -la root/
git status 
git add --all
git commit -am "BR-R configs"
git push origin 
ls
cd ..
ls
exit
ssh ivanadm@192.168.2.2
exit
vtysh 
cat /etc/frr/frr.conf
ip r
vtysh 
traceroute 172.16.1.2
traceroute6 2000:1::2
vtysh 
history 
vim /etc/network/interfaces
systemctl restart networking.service 
apt install openssh-server
shutdown now
useradd -m network-admin
passwd network-admin 
usermod -aG sudo network-admin 
useradd -m branch-admin
passwd branch-admin 
usermod -aG sudo branch-admin 
useradd -m admin
passwd admin 
usermod -aG sudo admin 
useradd --help
group ivanadm
groups ivanadm
groups admin
exit
ls
touch etc_bckp.sh
chmod +x etc_bckp.sh 
vim etc_bckp.sh 
exho "tar -czf $dest/$(hostname -s)-$(date +"%d.%m.%y").tgz $src" >> etc_bckp.sh 
echo "tar -czf $dest/$(hostname -s)-$(date +"%d.%m.%y").tgz $src" >> etc_bckp.sh 
vim etc_bckp.sh 
echo 'tar -czf $dest/$(hostname -s)-$(date +"%d.%m.%y").tgz $src' >> etc_bckp.sh 
vim etc_bckp.sh 
./etc_bckp.sh 
ls /opt/backup/BR-R-14.02.24.tgz 
vim /etc/systemd/system/etc_bckp.timer
anno /etc/systemd/system/etc_bckp.timer
nano /etc/systemd/system/etc_bckp.timer
anno /etc/systemd/system/etc_bckp.timer
vim /etc/systemd/system/etc_bckp.timer
systemctl enable etc_bckp.timer 
vim /etc/systemd/system/etc_bckp.timer
systemctl stop etc_bckp.timer 
vim /etc/systemd/system/etc_bckp.service
systemctl daemon-reload 
systemctl stop etc_bckp.timer 
systemctl enable etc_bckp.timer 
ls /opt/backup/
rm /opt/backup/BR-R-14.02.24.tgz 
ls /opt/backup/
systemctl start etc_bckp.timer 
systemctl status etc_bckp.timer 
ls /opt/backup/
cd demo_exam/
git pull origin 
ls
cd dem
cd source_cfg/
ls
cd BR-R/
ls
cd et
cd etc/
cp /etc/group group 
cp /etc/passwd passwd 
mkdir systemd
mkdir systemd/system
cp /etc/network/interfaces network/interfaces 
cp /etc/systemd/system/etc_bckp.* systemd/system/
ls systemd/system
cd ..
cp /root/etc_bckp.sh root/
ls root/
git status 
git add --all
git status 
git commit -am "backup units & new users"
git push origin 
ssh ivanadm@192.168.2.2
exit
shutdown now
ssh ivanadm@192.168.2.2
ssh ivanadm@192.168.2.2
ssh ivanadm@192.168.2.2 -p 2222
exit
vim /etc/nftables.conf 
nano /etc/nftables.conf 
nft -f /etc/nftables.conf 
exit
exit
vim /etc/nftables.conf 
vim /etc/nftables.conf 
vim /etc/nftables.conf 
vim /etc/nftables.conf 
nft -f /etc/nftables.conf 
exit
ssh ivanadm@172.16.1.2 -p 2222
exit
apt install bind9 bind-utils
apt install bind9 bind9-utils
ssh ibanadm@192.168.2.2
ssh ivanadm@192.168.2.2 -p 2222
vim /etc/resolv.conf 
vim /etc/resolv.conf 
host hq-srv
host br-srv
host br-srv.hq.work
host br-srv.hq
host hq-srv.hq.work
host hq-srv.hq.work
host hq-srv.hq.work
ssh ivanadm@192.168.2.2 -p 2222
ssh ivanadm@192.168.2.2 -p 2222
зштп 192.168.2.2
ping 192.168.2.2
ssh ivanadm@192.168.2.2 -p 2222
ssh ivanadm@192.168.2.2 -p 2222
history 
apt purge bind9 bind9-utils 
history | egrep 'vim|systemctl edit|git'
history | egrep 'vim|systemctl edit|git' | tail -15
history | egrep 'vim|systemctl edit|git' | tail
history | egrep 'vim|systemctl edit|git' | tail -13
cat demo-git-token 
cd demo_exam/
git pull origin 
cd source_cfg/BR-R/
ls
history | egrep 'vim|systemctl edit|git' | tail -15
cd etc/
cp /etc/network/interfaces network/interfaces 
cp /etc/resolv.conf .
cp /etc/nftables.conf nftables.conf 
git status 
git add --all
git status 
git commit -am "dns resolv & ssh redirect"
git push origin 
exit
shutdown now
vim /etc/systemd/timesyncd.conf 
vim /etc/systemd/timesyncd.conf 
timedatectl set-timezone Europe/Moscow 
systemctl restart systemd-timesyncd.service 
timedatectl statu
timedatectl status
timedatectl timesync-status 
date
hwclock 
cat demo-git-token 
cd demo_exam/
git pull origin 
ls
cd source_cfg/BR-R
cd etc/
cp /etc/timezone .
cp /etc/systemd/timesyncd.conf systemd/
ls systemd/
cd ../../..
git status 
git commit -am "ntp sync"
git add --all
git status 
git commit -am "ntp sync"
git push origin 
ssh ivanadm@192.168.2.2
ssh ivanadm@192.168.2.2 -p 2222
cd ..
exit
cd demo_exam/source_cfg/BR-R/
cd etc/
git pull origin 
ls
cd systemd/
ls /etc/systemd/system/multi-user.target.wants/
ls
cd system/
ls
mkdir multi-user.target.wants
ls /etc/systemd/system/timers.target.wants/
mkdir timers.target.wants
ls
s
s
cd multi-user.target.wants/
ls /etc/systemd/system/multi-user.target.wants/
cp /etc/systemd/system/multi-user.target.wants/frr.service .
cp /etc/systemd/system/multi-user.target.wants/strongswan-starter.service .
ls
cd ..
cd timers.target.wants/
cp /etc/systemd/system/timers.target.wants/etc_bckp.timer .
ls
cd ..
ls
ls multi-user.target.wants/
ls timers.target.wants/
cd ../../../..
cd ..
ls
git status 
git add --all
git status 
git commit -am "systemd wants"
cat ../demo-git-token 
git push origin 
ls
ls
exit
shutdown now
